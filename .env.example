# ------------------------------------------------------------------------------
# Supabase 本地开发环境变量
# ------------------------------------------------------------------------------

# Postgres 数据库
POSTGRES_PASSWORD=your_secure_password
POSTGRES_PORT=5432
POSTGRES_HOST=db
POSTGRES_DB=postgres

# Supabase Studio 管理面板
STUDIO_DEFAULT_ORGANIZATION=MTPGroup
STUDIO_DEFAULT_PROJECT=Azusa

# Supavisor 服务配置
POOLER_PROXY_PORT_TRANSACTION=6543
POOLER_DEFAULT_POOL_SIZE=20
POOLER_MAX_CLIENT_CONN=100
POOLER_TENANT_ID=7c4c3e2e-9c3a-4f6b-8c74-1234567890ab
POOLER_DB_POOL_SIZE=5

# API 网关 (Kong)
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443

# PostgREST API 配置
PGRST_DB_SCHEMAS=public,storage,graphql_public

# 认证与安全（请使用安全随机值）
JWT_SECRET=your_jwt_secret_at_least_32_chars_long
ANON_KEY=your_anon_public_key
SERVICE_ROLE_KEY=your_service_role_secret_key
PG_META_CRYPTO_KEY=your_pg_meta_crypto_key
SECRET_KEY_BASE=your_secret_key_base
VAULT_ENC_KEY=your_vault_enc_key

# 仪表盘凭证
DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=your_dashboard_password

# Auth 服务配置
SITE_URL=http://localhost:3000
ADDITIONAL_REDIRECT_URLS=
JWT_EXPIRY=3600
DISABLE_SIGNUP=false
API_EXTERNAL_URL=http://localhost:8000

## SMTP / Mailer（按需填写)
SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=smtp.example.com
SMTP_PORT=465
SMTP_USER=mailer@example.com
SMTP_PASS=your_smtp_password
SMTP_SENDER_NAME=Example Sender

## Mailer 主题与模板
MAILER_SUBJECTS_CONFIRMATION=验证您的电子邮件地址
MAILER_SUBJECTS_RECOVERY=重置您的密码
MAILER_SUBJECTS_MAGIC_LINK=您的魔法链接
MAILER_SUBJECTS_EMAIL_CHANGE=确认电子邮件更改
MAILER_SUBJECTS_INVITE=您已被邀请
MAILER_SUBJECTS_PASSWORD_CHANGED_NOTIFICATION=您的密码已更改
MAILER_SUBJECTS_EMAIL_CHANGED_NOTIFICATION=您的电子邮件地址已更改
MAILER_SUBJECTS_PHONE_CHANGED_NOTIFICATION=您的电话号码已更改
MAILER_SUBJECTS_IDENTITY_LINKED_NOTIFICATION=已链接新身份
MAILER_SUBJECTS_IDENTITY_UNLINKED_NOTIFICATION=已取消链接身份
MAILER_SUBJECTS_MFA_FACTOR_ENROLLED_NOTIFICATION=已注册新的多因素认证因素
MAILER_SUBJECTS_MFA_FACTOR_UNENROLLED_NOTIFICATION=已取消注册多因素认证因素
MAILER_SECURE_EMAIL_CHANGE_ENABLED=true

MAILER_TEMPLATES_CONFIRMATION=http://nginx:80/confirm.html
MAILER_TEMPLATES_RECOVERY=http://nginx:80/recovery.html
MAILER_TEMPLATES_MAGIC_LINK=http://nginx:80/magic_link.html
MAILER_TEMPLATES_EMAIL_CHANGE=http://nginx:80/email_change.html
MAILER_TEMPLATES_INVITE=http://nginx:80/invite.html
MAILER_TEMPLATES_PASSWORD_CHANGED_NOTIFICATION=http://nginx:80/password_changed.html
MAILER_TEMPLATES_EMAIL_CHANGED_NOTIFICATION=http://nginx:80/email_changed.html
MAILER_TEMPLATES_PHONE_CHANGED_NOTIFICATION=http://nginx:80/phone_changed.html
MAILER_TEMPLATES_IDENTITY_LINKED_NOTIFICATION=http://nginx:80/identity_linked.html
MAILER_TEMPLATES_IDENTITY_UNLINKED_NOTIFICATION=http://nginx:80/identity_unlinked.html
MAILER_TEMPLATES_MFA_FACTOR_ENROLLED_NOTIFICATION=http://nginx:80/mfa_enrolled.html
MAILER_TEMPLATES_MFA_FACTOR_UNENROLLED_NOTIFICATION=http://nginx:80/mfa_unenrolled.html

# 公共 URL (本地 Docker 通常为 http://localhost:8000 可选)
SUPABASE_PUBLIC_URL=http://127.0.0.1:8000

# Functions 服务配置
FUNCTIONS_VERIFY_JWT=false

# ------------------------------------------------------------------------------
# 项目特定变量 (Azusa)
# ------------------------------------------------------------------------------

# AI 服务 (阿里云 DashScope / 通义千问)
DASHSCOPE_API_KEY=your_dashscope_api_key_here
DASHSCOPE_API_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# OpenAI API Key (可选)
OPENAI_API_KEY=

# 图像处理服务
IMGPROXY_ENABLE_WEBP_DETECTION=true


# ----------------------------------------------------------------------------
# Logs / 其他
# ----------------------------------------------------------------------------
LOGFLARE_PUBLIC_ACCESS_TOKEN=your_logflare_public_token
LOGFLARE_PRIVATE_ACCESS_TOKEN=your_logflare_private_token
DOCKER_SOCKET_LOCATION=/var/run/docker.sock

# S3 兼容存储
S3_PROTOCOL_ACCESS_KEY_ID=your_s3_access_key
S3_PROTOCOL_ACCESS_KEY_SECRET=your_s3_secret_key

# ----------------------------------------------------------------------------
# 测试配置
# ----------------------------------------------------------------------------
# 测试环境选择：'docker' 或 'cli'
TEST_ENV=docker

# CLI 环境配置 (仅当 TEST_ENV=cli 时需要)
SUPABASE_CLI_URL=http://127.0.0.1:54321
SUPABASE_PUBLISHABLE_KEY=your_supabase_publishable_key
